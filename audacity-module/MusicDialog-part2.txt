   // Call Python backend
   PythonBridge::MusicParams params;
   params.prompt = mPrompt;
   params.duration = mDuration;
   params.outputPath = mOutputPath;
   
   bool success = mBridge->GenerateMusic(params, [this](int progress) {
      mProgressBar->SetValue(progress);
      wxYield();
   });
   
   mProgressBar->Hide();
   mGenerateButton->Enable(true);
   
   if (success)
   {
      EndModal(wxID_OK);
   }
   else
   {
      wxMessageBox(wxT("Failed to generate music. Check log for details."),
                   wxT("Error"), wxOK | wxICON_ERROR);
   }
}

void MusicDialog::OnCancel(wxCommandEvent &evt)
{
   EndModal(wxID_CANCEL);
}
